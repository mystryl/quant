# 多时间框架趋势策略 - 默认配置
# 版本：1.1
# 日期：2026-02-19

# ============== 数据配置 ==============
data:
  # 商品指数合约代码（示例）
  instrument: "HC8888.XSGE"

  # 数据时间范围
  start_date: "2023-01-01"
  end_date: "2024-12-31"

  # 数据频率（支持：1min, 5min, 15min, 1H, 4H, 1D）
  frequency: "1H"

# ============== 大周期趋势判断（日线） ==============
trend_daily:
  # EMA周期（默认60）
  ema_period: 60

  # 趋势方向：'bullish'（上升）或 'bearish'（下降）
  # 判断：价格 > EMA60 = 上升趋势（看涨）
  #       价格 < EMA60 = 下降趋势（看跌）
  direction_threshold: 0.0  # 价格距离EMA的百分比阈值（>0.0确认方向）

# ============== 中周期入场时机（1小时） ==============
entry_hourly:
  # VWAP短周期（默认5）
  vwap_short_period: 5

  # VWAP长周期（默认60）
  vwap_long_period: 60

  # 交叉类型：'golden'（金叉）或 'death'（死叉）
  # 判断：VWAP5上穿VWAP60 = 金叉（看涨入场）
  #       VWAP5下穿VWAP60 = 死叉（看跌入场）
  cross_type: 'golden'  # 看涨信号
  cross_type_short: 'death'  # 看跌信号

  # 交叉确认：至少N根K线保持交叉状态
  confirmation_bars: 3

# ============== 15分钟执行策略 ==============
execution_15min:
  # 入场方式：'limit'（限价单）或 'market'（市价单）
  entry_type: 'limit'

  # 限价单缓冲（%）
  limit_buffer: 0.001

  # 二次确认：是否在15分钟确认
  use_confirmation: true

# ============== RSI过滤（可选） ==============
filters:
  # 是否使用RSI过滤
  use_rsi: true

  # RSI周期
  rsi_period: 14

  # RSI超买阈值
  rsi_overbought: 70

  # RSI超卖阈值
  rsi_oversold: 30

# ============== 止损止盈参数 ==============
risk:
  # 单笔交易风险比例（%，默认1%）
  risk_per_trade: 0.01

  # 最大持仓数
  max_positions: 3

  # 最大回撤（%）
  max_drawdown_pct: 0.10

  # 连续亏损暂停次数
  max_consecutive_losses: 3

  # 暂停交易K线数
  pause_after_losses: 10

# ============== Supertrend参数 ==============
supertrend:
  # ATR周期（默认10）
  atr_period: 10

  # ATR因子（默认3.0）
  atr_factor: 3.0

  # 备选ATR止损周期
  atr_sl_period: 14

  # ATR止损倍数
  atr_sl_multiplier: 1.5

# ============== 止盈策略参数 ==============
take_profit:
  # 目标1风险收益比（1:1）
  tp1_rr: 1.0

  # 目标1平仓比例（%）
  tp1_close_pct: 0.30

  # 目标2风险收益比（1:2）
  tp2_rr: 2.0

  # 目标2平仓比例（%）
  tp2_close_pct: 0.40

  # 目标3风险收益比（1:3）
  tp3_rr: 3.0

  # 目标3平仓比例（%，剩余）
  tp3_close_pct: 0.30

  # 盈利保护触发倍数（>2倍风险时移至盈亏平衡）
  breakeven_rr: 2.0

# ============== 交易成本参数 ==============
costs:
  # 滑点（基点，bp）
  slippage_bps: 5

  # 每手手续费（元）
  commission_per_unit: 2

  # 价格滑点（%）
  slippage_pct: 0.0005

# ============== 日志和输出 ==============
logging:
  # 日志级别（DEBUG, INFO, WARNING, ERROR）
  level: "INFO"

  # 日志文件路径
  log_file: "logs/strategy.log"

  # 是否输出详细交易日志
  detailed_trade_log: true

  # 是否输出指标数据
  output_indicators: false
