# SuperTrend 多年份多周期回测报告

**回测时间**: 2026-02-15
**测试标的**: RB9999.XSGE (螺纹钢连续合约)
**测试周期**: 2023、2024、2025 年
**数据频率**: 15分钟、60分钟
**参数组合**: 4组

---

## 一、回测结果汇总

### 2023 年

#### 15 分钟周期

| 参数 | 交易次数 | 累计收益 | 年化收益 | 最大回撤 | 夏普比率 | 胜率 |
|------|---------|---------|---------|---------|---------|------|
| (10, 3.0) | 185 | -4.29% | -2.69% | 18.85% | -0.14 | 49.66% |
| (10, 2.0) | 357 | -30.76% | -20.45% | 36.78% | -1.63 | 47.99% |
| (7, 3.0) | 184 | **9.08%** | 5.56% | 19.42% | 0.47 | 49.67% |
| (14, 2.5) | 233 | -2.83% | -1.77% | 23.12% | -0.07 | 49.52% |

**最佳参数**: (7, 3.0) - 累计收益 9.08%，夏普 0.47

**结论**: 2023年15分钟周期表现一般，只有 (7, 3.0) 参数组合获得正收益。

---

#### 60 分钟周期

| 参数 | 交易次数 | 累计收益 | 年化收益 | 最大回撤 | 夏普比率 | 胜率 |
|------|---------|---------|---------|---------|---------|------|
| (10, 3.0) | 61 | 15.58% | 31.06% | 8.97% | 1.27 | 51.09% |
| (10, 2.0) | 112 | 1.83% | 3.45% | 19.29% | 0.26 | 51.48% |
| (7, 3.0) | 61 | 24.94% | 51.57% | 7.31% | 1.89 | 51.53% |
| (14, 2.5) | 74 | **26.87%** | **55.97%** | 8.30% | **2.01** | 51.78% |

**最佳参数**: (14, 2.5) - 累计收益 26.87%，年化 55.97%，夏普 2.01

**结论**: 2023年60分钟周期表现优秀，所有参数组合均为正收益，(14, 2.5) 表现最佳。

---

### 2024 年

#### 15 分钟周期

| 参数 | 交易次数 | 累计收益 | 年化收益 | 最大回撤 | 夏普比率 | 胜率 |
|------|---------|---------|---------|---------|---------|------|
| (10, 3.0) | 165 | 35.90% | 21.13% | 14.33% | 1.40 | 51.29% |
| (10, 2.0) | 291 | 28.51% | 16.97% | 10.40% | 1.15 | 50.95% |
| (7, 3.0) | 165 | **41.53%** | **24.24%** | 12.78% | **1.57** | 51.48% |
| (14, 2.5) | 203 | 35.34% | 20.82% | 14.65% | 1.38 | 51.46% |

**最佳参数**: (7, 3.0) - 累计收益 41.53%，年化 24.24%，夏普 1.57

**结论**: 2024年15分钟周期表现非常优秀，所有参数组合均为正收益，(7, 3.0) 表现最佳。

---

#### 60 分钟周期

| 参数 | 交易次数 | 累计收益 | 年化收益 | 最大回撤 | 夏普比率 | 胜率 |
|------|---------|---------|---------|---------|---------|------|
| (10, 3.0) | 61 | 3.37% | 6.41% | 15.94% | 0.38 | 50.56% |
| (10, 2.0) | 113 | **15.36%** | **30.74%** | 15.34% | **1.25** | 50.46% |
| (7, 3.0) | 75 | 1.23% | 2.31% | 14.71% | 0.21 | 50.71% |
| (14, 2.5) | 91 | 5.67% | 10.90% | 15.08% | 0.55 | 50.30% |

**最佳参数**: (10, 2.0) - 累计收益 15.36%，年化 30.74%，夏普 1.25

**结论**: 2024年60分钟周期表现一般，(10, 2.0) 表现最佳。

---

### 2025 年

#### 15 分钟周期

| 参数 | 交易次数 | 累计收益 | 年化收益 | 最大回撤 | 夏普比率 | 胜率 |
|------|---------|---------|---------|---------|---------|------|
| (10, 3.0) | 171 | **6.42%** | 3.94% | 12.40% | 0.42 | 50.82% |
| (10, 2.0) | 312 | -6.93% | -4.36% | 17.78% | -0.37 | 49.36% |
| (7, 3.0) | 185 | -0.95% | -0.59% | 17.03% | -0.00 | 50.48% |
| (14, 2.5) | 220 | 2.20% | 1.36% | 16.31% | 0.18 | 50.15% |

**最佳参数**: (10, 3.0) - 累计收益 6.42%，夏普 0.42

**结论**: 2025年15分钟周期表现较差，只有 (10, 3.0) 和 (14, 2.5) 获得小幅正收益。

---

#### 60 分钟周期

| 参数 | 交易次数 | 累计收益 | 年化收益 | 最大回撤 | 夏普比率 | 胜率 |
|------|---------|---------|---------|---------|---------|------|
| (10, 3.0) | 61 | -5.27% | -9.61% | 10.04% | -0.48 | 50.36% |
| (10, 2.0) | 109 | **3.97%** | **7.53%** | 12.05% | **0.50** | 51.25% |
| (7, 3.0) | 69 | -1.19% | -2.21% | 10.17% | -0.04 | 50.62% |
| (14, 2.5) | 83 | -3.78% | -6.94% | 14.77% | -0.31 | 50.47% |

**最佳参数**: (10, 2.0) - 累计收益 3.97%，年化 7.53%，夏普 0.50

**结论**: 2025年60分钟周期表现较差，只有 (10, 2.0) 获得小幅正收益。

---

## 二、年度表现对比

### 累计收益对比

| 年份 | 15min最佳 | 15min收益 | 60min最佳 | 60min收益 |
|------|----------|----------|----------|----------|
| 2023 | (7, 3.0) | 9.08% | (14, 2.5) | **26.87%** |
| 2024 | (7, 3.0) | **41.53%** | (10, 2.0) | 15.36% |
| 2025 | (10, 3.0) | 6.42% | (10, 2.0) | 3.97% |

### 夏普比率对比

| 年份 | 15min最佳夏普 | 60min最佳夏普 |
|------|-------------|-------------|
| 2023 | 0.47 | **2.01** |
| 2024 | **1.57** | 1.25 |
| 2025 | 0.42 | 0.50 |

---

## 三、周期对比分析

### 15 分钟周期特点

**优点**:
- 交易机会多（每年 165-312 次）
- 能捕捉更短期的趋势变化
- 2024年表现非常优秀

**缺点**:
- 2023年和2025年表现不稳定
- 回撤相对较大（12-36%）
- 部分参数组合亏损严重（如 2023年的 (10, 2.0)）

**适合年份**: 2024年

### 60 分钟周期特点

**优点**:
- 2023年表现非常优秀（夏普 > 2.0）
- 回撤相对较小（7-15%）
- 交易频率适中（每年 61-113 次）

**缺点**:
- 2025年表现较差
- 2024年表现一般

**适合年份**: 2023年

---

## 四、参数稳定性分析

### (10, 3.0) - 保守参数

| 年份 | 15min收益 | 60min收益 | 15min夏普 | 60min夏普 |
|------|----------|----------|----------|----------|
| 2023 | -4.29% | 15.58% | -0.14 | 1.27 |
| 2024 | 35.90% | 3.37% | 1.40 | 0.38 |
| 2025 | 6.42% | -5.27% | 0.42 | -0.48 |

**结论**: 15min周期稳定性较好，2024年表现优秀；60min周期不稳定。

---

### (10, 2.0) - 敏感参数

| 年份 | 15min收益 | 60min收益 | 15min夏普 | 60min夏普 |
|------|----------|----------|----------|----------|
| 2023 | -30.76% | 1.83% | -1.63 | 0.26 |
| 2024 | 28.51% | 15.36% | 1.15 | 1.25 |
| 2025 | -6.93% | 3.97% | -0.37 | 0.50 |

**结论**: 15min周期波动极大，2023年严重亏损；60min周期稳定性较好。

---

### (7, 3.0) - 激进参数

| 年份 | 15min收益 | 60min收益 | 15min夏普 | 60min夏普 |
|------|----------|----------|----------|----------|
| 2023 | 9.08% | 24.94% | 0.47 | 1.89 |
| 2024 | 41.53% | 1.23% | 1.57 | 0.21 |
| 2025 | -0.95% | -1.19% | -0.00 | -0.04 |

**结论**: 15min周期表现优秀，但2025年接近0收益；60min周期不稳定。

---

### (14, 2.5) - 平衡参数

| 年份 | 15min收益 | 60min收益 | 15min夏普 | 60min夏普 |
|------|----------|----------|----------|----------|
| 2023 | -2.83% | 26.87% | -0.07 | 2.01 |
| 2024 | 35.34% | 5.67% | 1.38 | 0.55 |
| 2025 | 2.20% | -3.78% | 0.18 | -0.31 |

**结论**: 15min周期表现稳定；60min周期2023年表现最佳，但2025年亏损。

---

## 五、关键发现

### 1. 年度差异显著

- **2024年**: 所有测试组合中表现最佳，15min周期最高收益达 41.53%
- **2023年**: 60min周期表现优秀，最高收益达 26.87%，夏普 2.01
- **2025年**: 表现较差，所有组合收益均低于 10%

### 2. 周期选择关键

- **15分钟**: 适合趋势明显的年份（如2024年），能捕捉更多机会
- **60分钟**: 适合震荡年份（如2023年），过滤噪音，减少交易频率

### 3. 参数适应性

- 无单一参数组合在所有年份都表现优异
- 需要根据市场环境调整参数
- (10, 3.0) 在 15min 周期相对稳定
- (14, 2.5) 在 60min 周期表现最佳（2023年）

### 4. 胜率分析

- 所有组合的胜率都在 49-52% 之间，接近 50%
- 说明 SuperTrend 指标本身没有显著的优势
- 盈利主要依靠盈亏比和趋势跟踪

---

## 六、推荐配置

### 稳健型（优先考虑回撤控制）

- **周期**: 60分钟
- **参数**: (14, 2.5)
- **适用市场**: 震荡市场，趋势不明显时
- **历史表现**: 2023年最佳，夏普 2.01，回撤 8.30%

### 积极型（追求更高收益）

- **周期**: 15分钟
- **参数**: (7, 3.0)
- **适用市场**: 明显趋势市场
- **历史表现**: 2024年最佳，累计收益 41.53%，夏普 1.57

### 平衡型（中等风险收益）

- **周期**: 15分钟
- **参数**: (10, 3.0)
- **适用市场**: 不确定的市场环境
- **历史表现**: 三年累计收益 37.03% (2023+2024+2025)，胜率 50.59%

---

## 七、改进建议

### 1. 动态参数调整

根据市场环境动态调整参数：
- 震荡市场：使用 (14, 2.5) + 60分钟
- 趋势市场：使用 (7, 3.0) + 15分钟

### 2. 多周期组合

结合 15分钟和 60分钟信号：
- 双周期共振时入场
- 单个周期信号作为确认

### 3. 止损优化

SuperTrend 本身就是动态止损，但可以考虑：
- 固定止损比例（如 2%）
- ATR 动态止损
- 时间止损（持仓超过 N 小时）

### 4. 过滤条件

添加过滤条件减少假信号：
- 成交量过滤
- 波动率过滤（如 ADR）
- 其他指标确认（如 MACD, RSI）

---

## 八、数据文件

- **回测脚本**: `backtest_supertrend_multi_year.py`
- **详细结果**: `supertrend_backtest_results.csv`
- **指标实现**: `qlib_supertrend.py`

---

**生成时间**: 2026-02-15
**数据来源**: qlib 数据
**回测引擎**: 自定义 Python 回测框架
